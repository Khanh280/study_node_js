<div class="row">
    <div class="col-md-4"></div>
    <form class="col-md-4 my-3" action="/product/save" method="post" enctype="multipart/form-data">
        <div align="center">
            <h2>Create Product</h2>
        </div>
        <div class="form-group my-2">
            <label for="name">Name Product</label>
            <input type="text" class="form-control" id="name" value="{{product.name}}" name="name">
            {{#if error.name}}
                <p style="color: red">{{error.name}}</p>
            {{/if}}
        </div>
        <div class="form-group my-2">
            <label for="description">Description</label>
            <textarea type="text" class="form-control" id="description" name="description"></textarea>
            {{#if error.description}}
                <p style="color: red">{{error.description}}</p>
            {{/if}}
        </div>
        <div class="row">
            <div class="form-group my-2 col-6">
                <label for="brands">Brand</label>
                <select name="brands" id="brands" class="form-control">
                    {{#each brand}}
                        <option value="{{this._id}}">{{this.name}}</option>
                    {{/each}}
                </select>
                {{#if error.brand}}
                    <p style="color: red">{{error.brand}}</p>
                {{/if}}
            </div>
            <div class="form-group my-2 col-6">
                <label for="types">Type</label>
                <select name="types" id="types" class="form-control">
                    {{#each type}}
                        <option value="{{this._id}}">{{this.name}}</option>
                    {{/each}}
                </select>
                {{#if error.type}}
                    <p style="color: red">{{error.type}}</p>
                {{/if}}
            </div>
        </div>
        <div class="form-group my-2">
            <label for="price">Price</label>
            <input type="text" class="form-control" id="price" name="price">
            {{#if error.price}}
                <p style="color: red">{{error.price}}</p>
            {{/if}}
        </div>
        <div class="form-group my-2">
            <label for="image">Image</label>
            <input type="file" class="form-control" id="image" name="image">
            {{#if error.image}}
                <p style="color: red">{{error.image}}</p>
            {{/if}}
            <div class="row justify-content-center mt-3">
                <img src="" alt="" id="selectImage" style="width: 10rem;">
            </div>
        </div>
        <div class="row justify-content-center mt-3">
            <button class="btn btn-primary">Submit</button>
        </div>
    </form>
    <div class="col-md-4"></div>
</div>

<script>
    const fileInput = document.getElementById('image');
    const imgElement = document.getElementById('selectImage');

    fileInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const url = URL.createObjectURL(file);
            imgElement.setAttribute('src', url);
        } else {
            imgElement.setAttribute('src', '');
        }
    });
</script>

